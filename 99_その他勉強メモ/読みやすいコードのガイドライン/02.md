# 第２章
- コードにおける命名は、正確かつ説明的であるべき。
  - 正確とは、命名とその実態が一致していること。
  - 説明的とは、名前を見てそれが何であるかを理解できること。
## 2-1
- 英文法に沿って書くこと。
- クラスや変数には名詞や名詞句を使い、メソッドには命令文を使う。
### 2-1-1
- 名詞句を使う際は、扱うものを最後に置くようにする。扱うものが最も重要であるため。
- 修飾語が長くなる場合は、前置詞を使うことでわかりやすく記述できる。
  - ただし、スコープの範囲が広い場合に使うと可読性を下げるので、限られた範囲で使うのが望ましい。
```rb
# ボタンの「高さ」について
# 良い例
button_height
# 悪い例
height_botton

# 前置詞を使う
button_height_in_portrait_mode
```
- 扱うものを最後に置くことが原則であるが、場合によっては誤解を招く場合もある。柔軟に語句を検討することが大切。
```rb
# 人数の変数を考える
number_user
=> 不適切
number_of_user
=> numberが重要なので適切ではないが、意味は通る。
user_number
=> user_idと混同しやすいので適切ではない。
user_count or user_total
=> 理解しやすく、誤解もしづらい
```
### 2-1-2
- 関数には命令文を用いる。動詞の原形を関数の先頭に配置する。
- 名詞や名詞句を使うメソッドを作る際は、先頭に`get`や`query`、`contain`を使う。
### 2-1-3
- 形容詞や形容詞句、分詞
  - 状態を表す場合に使う。
- 三人称単数系の動詞、助動詞、それによる疑問文
  - 真偽値を示す変数や、真偽値を返すメソッドに使う。
  - 疑問文のようなメソッド
  - 仮引数を含めてメソッド名とするパターン
- 前置詞を伴う副詞句
  - 型を変換するメソッドや、コールバック関数
### 2-1-4
- 文法を無視した命名がされる理由は、コードが複雑になる過程において、文法より読みやすさやコードの統一感を優先するため。
- 修飾語などで情報を追加する場合において、情報が揃っていると、一見すると読みやすく見えてしまう。しかし、そういった記述は比較する上ではでスッキリ読みやすくても、単体で理解しづらい。
  - 文法的に破綻しているケース
  - 前提条件の把握が必要なケース
## 2-2
- 命名においては、「対象が何であるか・何をするか」が重要であり、「どこでどのように使われるか」は言及しないこと。
- 「対象が何であるか・何をするか」を名確認することで、対象の責任の範囲と対象のコードが何をしているかになる。
  - 責任の範囲が明確になることで、無関係なコードが実装されにくくなる。
  - 対象のコードが何をしているかが明らかになると、可読性が向上し、勘違いから起きるバグも防げる。
### 2-2-2
- 悪い例として、関数が呼ばれる条件を命名するパターンがある。
  - 関数の呼び出し元において、関数の意味を理解し難いので、適切とは言えない。
    - 呼び出し元において、その関数が何をするか・責任の範囲を把握できない。=> 呼び出し先の実装を確認する必要がある。
    - 呼び出す条件と呼び出す関数の情報が同じになるので、呼び出し側で新たな情報を追加できない。
### 2-2-3
- コールバック関数などは、定義した時点では何をするか判別できない場合もある。
- その場合は、いつ・どこで呼ばれるかを関数名にする必要がある。ただし、定義する時点で目的がはっきりしている場合は、その目的を関数名にする。
## 2-3
### 2-3-1
- 曖昧性が少ない単語を選ぶことで、誤解を与える可能性を小さくすることができる。
- limitは、指す対象が上限か下限か判別できないので、manxやminなどをつける。
#### flag
- 真偽値に使う場合、trueかfalseかは、読み手や文脈に依存するので、他の言葉に置き換える方が良い。助動詞と組み合わせて命名することもできる。
#### check
- 確認するというニュアンスだが、確認する対象や条件を判断できない。
- 命名の際は、処理の前後でレシーバや引数の状態が変わるかどうかで判断すると良い。変わる場合、その変更の処理をメソッド名に用いるのが適切。
#### old
- oldが指す内容も曖昧なので、他の語句に置き換えるのが望ましい。比較対象の範囲が曖昧なので、何と比較してoldなのかがわかりづらい。
  - 一つ前であればprevious、向こうになってしまったinvalid、期限切れのexpiredなど・・
#### 命名のコツ
- 辞書を使うことで、単語の意味や類語との意味の差を把握できる。
- わからない場合は、そのデータを使う別のケースを想定し、それぞれどのような命名が適切か検討する。
### 2-3-2
- 自分勝手な省略語を用いると、コードの可読性が下がるので、勝手な省略語を使ってはいけない。
- 省略語を使って良いケース
  - 省略語の方が一般的に知られている場合 URLなど。
  - Stringをstrなど、デファクトスタンダートとなっている語句
  - 開発チーム内で省略語の認識がきちんと共有できている場合。コメントを追記したり、用語集を用意するのが良い。
### 2-3-3
- 整数の値について、肩だけでは単位を判別できない場合がある。そういった場合に単位を含めて命名することで、可読性が上がり、誤解されにくくなる。
- 違う値が同じものを指す場合もある。（色など）
### 2-3-4
- Boolean値において、否定語と否定演算子を組み合わせると、二重否定となり可読性が下がる。肯定的な単語に置き換えることで、真偽を変えることなく可動性をあげることができる。
