## 1 マイグレーションの適用を理解する
- マイグレーションは、主に二つのステップで行われる。
- 一つがマイグレーションファイルの作成、二つ目がマイグレーションファイルの適用。
## 2 マイグレーションはバージョンの上げ下げどちらも意識すること。
## 3 マイグレーションファイルの名前の付け方に注意すること
- マイグレーションファイルの名前は、アプリ内で一意である必要がある。
- 処理名を具体的に書くなど、重複しないように名前付する必要がある。
## 4 schema.rb
- 現在のDBの構造はschema.rbに出力される。
- このファイルは、マイグレーションを適用したり外したりすると自動で作成される。`rails db:schema:dump`で手動で出力することもできる。
- 手軽にテーブルやカラム構造を手軽に把握できる。
## 5 マイグレーションに関するコマンド
| コマンド | 概要 |
|:-----------|:------------:|
|  | bin/rails db:migrate | マイグレーションを最新まで適用する |
| bin/rails db:migrate VERSION=20210912XXXX | 特定バージョン（日時が20210912XXXX）までのマイグレーションまで適用されたことにする。 |
| bin/rails db:rollback | マイグレーションを一つ戻す | 
| bin/rails db:rollback step=2 |  マイグレーションをステップの数だけ戻す | 
| bin/rails db:migrate:redo | マイグレーションを一つ戻して一つ適用する<br>バージョンを戻す操作の動作確認に使う？ |
## 6 マイグレーションのエラー対応
- マイグレーションでエラーが発生した時は、適用するマイグレーションはロールバックするため、問題が発生する前の状態に戻される。
